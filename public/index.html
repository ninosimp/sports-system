<!DOCTYPE html>
<html lang="th">
<script>
    // --- Security Check ---
const token = localStorage.getItem('adminToken');
if (!token) {
    alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô');
    window.location.href = 'login.html';
}

function logout() {
    localStorage.removeItem('adminToken');
    window.location.href = 'login.html';
}
// ----------------------

</script>
<head>
    <meta charset="UTF-8">
    <title>Dashboard - Sports Sys</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="sidebar">
        <div class="brand">‚öΩ EquipmentHub</div>
        <div class="menu">
            <a href="index.html"class="active">üìä ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö</a>
            <a href="student.html">üë§ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</a>
            <a href="borrow.html">üìù ‡∏¢‡∏∑‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</a>
            <a href="return.html">‚Ü©Ô∏è ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∑‡∏ô</a>
            <a href="equipment.html">üì¶ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πá‡∏≠‡∏Å</a>
            <a href="history.html" >üìú ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</a>
            <a href="fines.html">üí∞ ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏±‡∏ö</a>
            <a href="contact.html">üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a>
        </div>
        <button onclick="logout()" class="logout-btn-fixed">
    üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
</button>
    </div>
    <div class="content">
        <h1>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</h1>
        
        <div class="stats-grid">
            <div class="stat-box">
                <span>‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
                <span class="stat-num" id="s-total">...</span>
            </div>
            <div class="stat-box">
                <span>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ñ‡∏π‡∏Å‡∏¢‡∏∑‡∏°</span>
                <span class="stat-num" id="s-active" style="color:#f59e0b">...</span>
            </div>
            <div class="stat-box">
                <span>‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏∞‡∏™‡∏°</span>
                <span class="stat-num" id="s-fine" style="color:#ef4444">...</span>
            </div>
        </div>
    </div>

    <script>
        // ‡πÅ‡∏Å‡πâ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô 3001 ‡∏Ñ‡∏£‡∏±‡∏ö
        const API_URL = '/api';

        fetch(`${API_URL}/stats`)
            .then(res => res.json())
            .then(data => {
                // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á
                document.getElementById('s-total').innerText = (data.total || 0) + " ‡∏ä‡∏¥‡πâ‡∏ô";
                document.getElementById('s-active').innerText = (data.active || 0) + " ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£";
                document.getElementById('s-fine').innerText = (data.fine || 0) + " ‡∏ö‡∏≤‡∏ó";
            })
            .catch(err => {
                console.error('Error:', err);
                document.getElementById('s-total').innerText = "Error";
            });
    </script>
</body>
</html>